### Docker学习记录

#### 发展背景

​		Docker为开发阶段和运维阶段之间的交付过程提供了一个标准的解决方案。以往的交付是程序打包成jar文件交付，但却缺少相应的运行环境，配置文件以及操作系统的差异性。现在是整体打包交付，包括程序，配置环境，运行环境，运行依赖，操作系统发行版，内核等信息一起打包交付。

​		传统上认为，软件编码开发/测试结束后，所产出的成果即是程序或是能够编译执行的二进制字节码等（Java为例）。而为了让这些程序可以顺利执行，开发团队得准备完整的部署文件，让运维团队得以部署应用程序。不过，即使如此还是经常会出错。Docker镜像的出现，使得Docker得以打破过去 ***程序即应用***  的 概念，透过镜像***images***将作业系统核心除外，运作应用程序所需要的系统环境，有下而上打包，达到应用程序跨平台间的无缝接轨运作。

​		比喻，以前是搬家，现在是搬楼。

​		一句话，解决了运行环境和配置问题软件容器，方便做持续集成并有助于整体发布的容器虚拟化技术。

#### 概念

* 虚拟机：虚拟机可以在一种操作系统里面运行另一种操作系统，比如在Windows系统里面运行Linux系统。应用程序对此毫无感知，因为虚拟机看上去跟真实系统一模一样，而对于本机底层系统来说，虚拟机就是一个普通文件，不需要了就删除，对其他部分毫无影响。这类虚拟机完美的运行了另一套系统，能够使应用程序，操作系统和硬件三者之间的逻辑不变。
* 镜像（image）：镜像就是模板
* 容器（container）：镜像的一个实例叫容器，可以把容器看作是一个简易版的Linux环境（包括root用户权限、进程空间、用户空间和网络空间等）和运行在其中的应用程序。容器的定义和镜像几乎一模一样，也是一堆层的统一视角，唯一区别在于容器的最上面那一层是可读可写的。
* 仓库（repository）：仓库是集中存放镜像文件的场所，有公开仓库和私有仓库两种类型，Docker Hub是最大的公开仓库（科学上网），阿里云，网易云等也属于公开仓库

#### 常用命令

##### docker run hello-world

docker window版安装完并启动之后，会生成一个daemon后台线程来处理命令，cmd窗口相当于一个client，输入docker run hello-world并回车，告诉后台线程执行hello-world这个容器，docker就会在本机寻找该容器，如果容器没有就会去找相应镜像，然后创建该容器，如果镜像也没有，就会去仓库拉取该镜像，再利用拉到的镜像创建容器，再执行。